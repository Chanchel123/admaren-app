<div class="apps-content">
  <div class="dashboard-container">
    <!-- Left Column: Map and Route Input -->
    <div class="map-section">
      <div class="content-scroll">
        <!-- Route Input Form -->
        <app-route-input 
          (routeSubmitted)="onRouteSubmitted($event)"
        ></app-route-input>

        <!-- Always show the map with integrated grid -->
        <app-map 
          (coordinatesSelected)="onCoordinatesSelected($event)"
          [mapMode]="mapMode()"
        ></app-map>
      </div>
    </div>

    <!-- Right Column: Control Panel -->
    <div class="control-panel-section">
      <app-map-selector 
        [selectedLocations]="selectedLocations()"
        (mapModeChanged)="onMapModeChanged($event)"
      ></app-map-selector>
    </div>
  </div>

  <!-- Weather Table Below (Full Width) -->
  <ng-container *ngIf="showWeatherTable()">
    <div class="weather-table-section">
      <app-weather-table [selectedLocations]="selectedLocations()"></app-weather-table>
    </div>
  </ng-container>
</div>
